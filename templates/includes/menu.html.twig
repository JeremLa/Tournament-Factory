<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    {% if  app.user %}
        <a class="navbar-brand" href="{{ path('my_tournament') }}">Tournament Factory</a>
    {% else %}
        <a class="navbar-brand" href="{{ path('home') }}">Tournament Factory</a>
    {% endif %}
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">

            {% set current_path = app.request.get('_route') %}

            {% if app.user %}

                {% set active = current_path == 'my_tournament' or current_path == 'add_tournament' ? 'active' : '' %}

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle {{ active }}" href="" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ "tournament.menu.title" | trans }}</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown01">
                        <a class="dropdown-item" href="{{ path('my_tournament') }}">{{ 'tournament.menu.list' | trans }}</a>
                        <a class="dropdown-item" href="{{ path('add_tournament') }}">{{ 'tournament.create' | trans }}</a>
                    </div>
                </li>

                {% if is_granted('ROLE_ADMIN') %}
                    {% set active = current_path == 'admin' ? 'active' : '' %}

                    <li class="nav-item">
                        <a class="nav-link {{ active }}" href="{{ path('admin') }}">Admin</a>
                    </li>
                {% endif %}

                <li class="nav-item">
                    <a class="nav-link" href="{{ path('logout') }}">{{ 'security.logout' | trans }}</a>
                </li>


            {% else %}
                {% set active = current_path == 'login' ? 'active' : ''%}

                <li class="nav-item">
                    <a class="nav-link {{ active }}" href="{{ path('login') }}">{{ 'security.login' | trans }}</a>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>
